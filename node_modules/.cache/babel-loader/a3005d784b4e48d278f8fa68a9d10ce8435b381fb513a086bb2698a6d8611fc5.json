{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { defineStore } from \"pinia\";\nconst useCart = defineStore(\"Cart\", {\n  state: () => ({\n    Cart: [],\n    CartProduct: []\n  }),\n  getters: {\n    GetCartItemCount(state) {\n      return state.Cart.reduce(total => total + 1, 0);\n    }\n  },\n  actions: {\n    async AddToCart(cartItem) {\n      const localCart = localStorage.getItem(\"cart\");\n      this.Cart = localCart ? JSON.parse(localCart) : [];\n      const sameItem = this.Cart.find(item => item.ProductId === cartItem.ProductId && item.ProductTypeId === cartItem.ProductTypeId);\n      if (sameItem === undefined) {\n        this.Cart.push(cartItem);\n      } else {\n        sameItem.Quantity += cartItem.Quantity;\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(this.Cart));\n    },\n    async updateQuantity(product) {\n      const localCart = localStorage.getItem(\"cart\");\n      this.Cart = localCart ? JSON.parse(localCart) : [];\n      const sameItem = this.Cart.find(item => item.ProductId === product.ProductId && item.ProductTypeId == product.ProductTypeId);\n      if (sameItem === undefined) {\n        return;\n      }\n      sameItem.Quantity = product.Quantity;\n      localStorage.setItem(\"cart\", JSON.stringify(this.Cart));\n    }\n  }\n});\nexport default useCart;","map":{"version":3,"names":["axios","defineStore","useCart","state","Cart","CartProduct","getters","GetCartItemCount","reduce","total","actions","AddToCart","cartItem","localCart","localStorage","getItem","JSON","parse","sameItem","find","item","ProductId","ProductTypeId","undefined","push","Quantity","setItem","stringify","updateQuantity","product"],"sources":["D:/PersonalFile/WebStudy/myShop-vue/myshop-vue/src/stores/useCart.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { defineStore } from \"pinia\";\r\n\r\nconst useCart = defineStore(\"Cart\", {\r\n    state: () => ({\r\n        Cart: [],\r\n        CartProduct: []\r\n    }),\r\n    getters: {\r\n        GetCartItemCount(state) {\r\n            return state.Cart.reduce((total) => total + 1, 0)\r\n        }\r\n    },\r\n    actions: {\r\n        async AddToCart(cartItem) {\r\n            const localCart = localStorage.getItem(\"cart\");\r\n            this.Cart = localCart ? JSON.parse(localCart) : [];\r\n            const sameItem = this.Cart.find(item => item.ProductId === cartItem.ProductId && item.ProductTypeId === cartItem.ProductTypeId);\r\n            if (sameItem === undefined) {\r\n                this.Cart.push(cartItem);\r\n            } else {\r\n                sameItem.Quantity += cartItem.Quantity;\r\n            }\r\n            localStorage.setItem(\"cart\", JSON.stringify(this.Cart));\r\n        },\r\n        async updateQuantity(product) {\r\n            const localCart = localStorage.getItem(\"cart\");\r\n            this.Cart = localCart ? JSON.parse(localCart) : [];\r\n            const sameItem = this.Cart.find(item => item.ProductId === product.ProductId && item.ProductTypeId == product.ProductTypeId);\r\n\r\n            if (sameItem === undefined) {\r\n                return;\r\n            }\r\n\r\n            sameItem.Quantity = product.Quantity;\r\n            localStorage.setItem(\"cart\",JSON.stringify(this.Cart))\r\n        }\r\n    }\r\n})\r\n\r\nexport default useCart"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,OAAO;AAEnC,MAAMC,OAAO,GAAGD,WAAW,CAAC,MAAM,EAAE;EAChCE,KAAK,EAAEA,CAAA,MAAO;IACVC,IAAI,EAAE,EAAE;IACRC,WAAW,EAAE;EACjB,CAAC,CAAC;EACFC,OAAO,EAAE;IACLC,gBAAgBA,CAACJ,KAAK,EAAE;MACpB,OAAOA,KAAK,CAACC,IAAI,CAACI,MAAM,CAAEC,KAAK,IAAKA,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;IACrD;EACJ,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,SAASA,CAACC,QAAQ,EAAE;MACtB,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC9C,IAAI,CAACX,IAAI,GAAGS,SAAS,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAG,EAAE;MAClD,MAAMK,QAAQ,GAAG,IAAI,CAACd,IAAI,CAACe,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,SAAS,KAAKT,QAAQ,CAACS,SAAS,IAAID,IAAI,CAACE,aAAa,KAAKV,QAAQ,CAACU,aAAa,CAAC;MAC/H,IAAIJ,QAAQ,KAAKK,SAAS,EAAE;QACxB,IAAI,CAACnB,IAAI,CAACoB,IAAI,CAACZ,QAAQ,CAAC;MAC5B,CAAC,MAAM;QACHM,QAAQ,CAACO,QAAQ,IAAIb,QAAQ,CAACa,QAAQ;MAC1C;MACAX,YAAY,CAACY,OAAO,CAAC,MAAM,EAAEV,IAAI,CAACW,SAAS,CAAC,IAAI,CAACvB,IAAI,CAAC,CAAC;IAC3D,CAAC;IACD,MAAMwB,cAAcA,CAACC,OAAO,EAAE;MAC1B,MAAMhB,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC9C,IAAI,CAACX,IAAI,GAAGS,SAAS,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAG,EAAE;MAClD,MAAMK,QAAQ,GAAG,IAAI,CAACd,IAAI,CAACe,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,SAAS,KAAKQ,OAAO,CAACR,SAAS,IAAID,IAAI,CAACE,aAAa,IAAIO,OAAO,CAACP,aAAa,CAAC;MAE5H,IAAIJ,QAAQ,KAAKK,SAAS,EAAE;QACxB;MACJ;MAEAL,QAAQ,CAACO,QAAQ,GAAGI,OAAO,CAACJ,QAAQ;MACpCX,YAAY,CAACY,OAAO,CAAC,MAAM,EAACV,IAAI,CAACW,SAAS,CAAC,IAAI,CAACvB,IAAI,CAAC,CAAC;IAC1D;EACJ;AACJ,CAAC,CAAC;AAEF,eAAeF,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}