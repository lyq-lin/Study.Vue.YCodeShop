{"ast":null,"code":"import axios from \"axios\";\nimport { defineStore } from \"pinia\";\nconst BASE_URL = 'http://localhost:5168/';\nconst useProductList = defineStore(\"productList\", {\n  state: () => ({\n    Products: [],\n    ProductTypes: [],\n    Pages: 1,\n    CurrentPage: 1,\n    LastSearchText: \"\"\n  }),\n  getters: {\n    GetProdcutById(state) {\n      return productId => {\n        return state.Products.find(item => item.id === productId);\n      };\n    }\n  },\n  actions: {\n    async getAllProduct() {\n      await axios.get(BASE_URL + \"api/Product/GetProductList\").then(res => {\n        this.Products = res.data.data;\n      });\n    },\n    async getProductsByCategory(url) {\n      await axios.get(BASE_URL + \"api/Product/GetProductByCategory/\" + url).then(res => {\n        this.Products = res.data.data;\n      });\n    },\n    async getProductsByFeatured() {\n      await axios.get(BASE_URL + \"api/Product/GetFeaturedProducts\").then(res => {\n        this.Products = res.data.data;\n      });\n    },\n    async getProductTypeByProductId(typeId) {\n      await axios.get(BASE_URL + \"api/ProductType/GetProductTypeByProductId/\" + typeId).then(res => {\n        this.ProductTypes = res.data.data;\n      });\n    },\n    async getProductById(id) {\n      await axios.get(BASE_URL + \"api/Product/GetProductById/\" + id).then(res => {\n        this.Products = res.data.data;\n      });\n    },\n    async getProductSearchSuggestions(searchText) {\n      const response = await axios.get(BASE_URL + \"api/Product/GetProductSearchSuggestions/\" + searchText);\n      return response.data;\n    },\n    async getProductBySearch(searchText, page) {\n      this.LastSearchText = searchText;\n      await axios.get(BASE_URL + \"api/Product/GetProductBySearch/\" + searchText + \"/\" + page).then(res => {\n        const result = res.data.data;\n        if (result != null && result.products.length != 0) {\n          this.Pages = result.pages;\n          this.CurrentPage = result.currentPage;\n          this.Products = result.products;\n        }\n      });\n    },\n    async getProductVariant(id, typeid) {\n      const variant = await axios.get(BASE_URL + '/api/ProductVariant/GetVariantByProduct/' + id + '/' + typeid);\n      console.log(variant.data.data);\n      return variant.data.data;\n    }\n  }\n});\nexport default useProductList;","map":{"version":3,"names":["axios","defineStore","BASE_URL","useProductList","state","Products","ProductTypes","Pages","CurrentPage","LastSearchText","getters","GetProdcutById","productId","find","item","id","actions","getAllProduct","get","then","res","data","getProductsByCategory","url","getProductsByFeatured","getProductTypeByProductId","typeId","getProductById","getProductSearchSuggestions","searchText","response","getProductBySearch","page","result","products","length","pages","currentPage","getProductVariant","typeid","variant","console","log"],"sources":["D:/PersonalFile/WebStudy/myShop-vue/myshop-vue/src/stores/useProductList.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { defineStore } from \"pinia\";\r\n\r\nconst BASE_URL = 'http://localhost:5168/';\r\nconst useProductList = defineStore(\"productList\", {\r\n    state: () => ({\r\n        Products: [],\r\n        ProductTypes: [],\r\n        Pages: 1,\r\n        CurrentPage: 1,\r\n        LastSearchText: \"\"\r\n    }),\r\n    getters: {\r\n        GetProdcutById(state) {\r\n            return productId => {\r\n                return state.Products.find(item => item.id === productId)\r\n            }\r\n        }\r\n    },\r\n    actions: {\r\n        async getAllProduct() {\r\n            await axios.get(BASE_URL + \"api/Product/GetProductList\").then(res => {\r\n                this.Products = res.data.data\r\n            })\r\n        },\r\n        async getProductsByCategory(url) {\r\n            await axios.get(BASE_URL + \"api/Product/GetProductByCategory/\" + url).then(res => {\r\n                this.Products = res.data.data\r\n            })\r\n        },\r\n        async getProductsByFeatured() {\r\n            await axios.get(BASE_URL + \"api/Product/GetFeaturedProducts\").then(res => {\r\n                this.Products = res.data.data\r\n            })\r\n        },\r\n        async getProductTypeByProductId(typeId) {\r\n            await axios.get(BASE_URL + \"api/ProductType/GetProductTypeByProductId/\" + typeId).then(res => {\r\n                this.ProductTypes = res.data.data\r\n            })\r\n        },\r\n        async getProductById(id) {\r\n            await axios.get(BASE_URL + \"api/Product/GetProductById/\" + id).then(res => {\r\n                this.Products = res.data.data\r\n            })\r\n        },\r\n        async getProductSearchSuggestions(searchText) {\r\n            const response = await axios.get(BASE_URL + \"api/Product/GetProductSearchSuggestions/\" + searchText)\r\n            return response.data;\r\n        },\r\n        async getProductBySearch(searchText, page) {\r\n\r\n            this.LastSearchText = searchText;\r\n\r\n            await axios.get(BASE_URL + \"api/Product/GetProductBySearch/\" + searchText + \"/\" + page).then(res => {\r\n                const result = res.data.data;\r\n                if (result != null && result.products.length != 0) {\r\n                    this.Pages = result.pages;\r\n                    this.CurrentPage = result.currentPage;\r\n                    this.Products = result.products;\r\n                }\r\n            })\r\n        },\r\n        async getProductVariant(id, typeid) {\r\n            const variant = await axios.get(BASE_URL + '/api/ProductVariant/GetVariantByProduct/' + id + '/' + typeid)\r\n            console.log(variant.data.data)\r\n            return variant.data.data;\r\n        }\r\n    }\r\n})\r\n\r\nexport default useProductList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}