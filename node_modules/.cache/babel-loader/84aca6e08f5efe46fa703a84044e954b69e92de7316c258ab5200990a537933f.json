{"ast":null,"code":"import { ref } from \"vue\";\nimport { Search } from '@element-plus/icons-vue';\nimport { useRouter } from \"vue-router\";\nimport useProductList from \"@/stores/useProductList\";\nexport default {\n  __name: 'Search',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const ProductList = useProductList();\n    const Router = useRouter();\n    const searchText = ref(\"\");\n    const suggestions = ref([]);\n    const createFilter = queryString => {\n      return suggestion => {\n        return suggestion.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    };\n    const querySearch = async (queryString, cb) => {\n      suggestions.value = await ProductList.GetProductSearchSuggestions(queryString);\n      const suggestionsWithId = suggestions.value.data.map((value, index) => ({\n        id: index + 1,\n        value: value\n      }));\n    };\n    const __returned__ = {\n      ProductList,\n      Router,\n      searchText,\n      suggestions,\n      createFilter,\n      querySearch,\n      ref,\n      get Search() {\n        return Search;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useProductList() {\n        return useProductList;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","Search","useRouter","useProductList","ProductList","Router","searchText","suggestions","createFilter","queryString","suggestion","value","toLowerCase","indexOf","querySearch","cb","GetProductSearchSuggestions","suggestionsWithId","data","map","index","id"],"sources":["D:/PersonalFile/WebStudy/myShop-vue/myshop-vue/src/components/Search.vue"],"sourcesContent":["<template>\r\n    <div class=\"search-body\">\r\n        <el-autocomplete v-model=\"searchText\" style=\"width: 100%;\" class=\"media-search inline-input\" size=\"large\"\r\n            :fetch-suggestions=\"querySearch\" :trigger-on-focus=\"false\" placeholder=\"请输入想要的商品\" :suffix-icon=\"Search\"\r\n            @select=\"handleSelect\" select-when-unmatched clearable>\r\n\r\n        </el-autocomplete>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { Search } from '@element-plus/icons-vue'\r\nimport { useRouter } from \"vue-router\";\r\nimport useProductList from \"@/stores/useProductList\";\r\n\r\nconst ProductList = useProductList();\r\nconst Router = useRouter();\r\n\r\nconst searchText = ref(\"\");\r\nconst suggestions = ref([]);\r\n\r\nconst createFilter = (queryString) => {\r\n    return (suggestion) => {\r\n        return (\r\n            suggestion.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0\r\n        )\r\n    }\r\n}\r\n\r\nconst querySearch = async (queryString, cb) => {\r\n    suggestions.value = await ProductList.GetProductSearchSuggestions(queryString);\r\n\r\n    const suggestionsWithId = suggestions.value.data.map((value, index) => ({\r\n        id: index + 1,\r\n        value: value\r\n    }));\r\n\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style></style>"],"mappings":"AAWA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,MAAM,QAAQ,yBAAyB;AAChD,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,cAAc,MAAM,yBAAyB;;;;;;;IAEpD,MAAMC,WAAW,GAAGD,cAAc,CAAC,CAAC;IACpC,MAAME,MAAM,GAAGH,SAAS,CAAC,CAAC;IAE1B,MAAMI,UAAU,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMO,WAAW,GAAGP,GAAG,CAAC,EAAE,CAAC;IAE3B,MAAMQ,YAAY,GAAIC,WAAW,IAAK;MAClC,OAAQC,UAAU,IAAK;QACnB,OACIA,UAAU,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAACJ,WAAW,CAACG,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC;MAE/E,CAAC;IACL,CAAC;IAED,MAAME,WAAW,GAAG,MAAAA,CAAOL,WAAW,EAAEM,EAAE,KAAK;MAC3CR,WAAW,CAACI,KAAK,GAAG,MAAMP,WAAW,CAACY,2BAA2B,CAACP,WAAW,CAAC;MAE9E,MAAMQ,iBAAiB,GAAGV,WAAW,CAACI,KAAK,CAACO,IAAI,CAACC,GAAG,CAAC,CAACR,KAAK,EAAES,KAAK,MAAM;QACpEC,EAAE,EAAED,KAAK,GAAG,CAAC;QACbT,KAAK,EAAEA;MACX,CAAC,CAAC,CAAC;IAGP,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}